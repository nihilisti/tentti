(this.webpackJsonptentti=this.webpackJsonptentti||[]).push([[0],{121:function(e,t,a){"use strict";a.r(t);var n=a(2),s=a(0),c=a(31),r=a.n(c),i=(a(87),a(27),a(29)),o=function(){return Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("div",{className:"links",children:[Object(n.jsx)(i.b,{to:"/",className:"button",children:"Etusivu"}),Object(n.jsx)(i.b,{to:"/exams",className:"button",children:"Tentit"}),Object(n.jsx)(i.b,{to:"/drop",className:"button",children:"Lataa tiedostoja"}),Object(n.jsx)(i.b,{to:"/chat",className:"button",children:"Chat"})]})})},l=a(14),j=a(53),u=(a(60),a(54),a(57)),d=a.n(u),b=a(70),m=a(58),h=a.n(m),O=null;function x(e,t){var a=JSON.parse(JSON.stringify(e));switch(t.type){case"increment":return{count:e.count+1};case"ANSWER_CHANGED":return a[t.data.answerIndex].answer=t.data.newText,a;case"INIT_DATA":return t.data;default:throw new Error}}O="https://tenttiappi.herokuapp.com";var g=function(){var e=Object(s.useState)(!1),t=Object(l.a)(e,2),a=t[0],c=(t[1],Object(s.useState)([])),r=Object(l.a)(c,2),i=r[0],o=r[1],j=Object(s.useReducer)(x,[]),u=Object(l.a)(j,2),m=u[0],g=u[1],f=Object(s.useState)([]),p=Object(l.a)(f,2),v=p[0],N=p[1],y=Object(s.useState)(!1),k=Object(l.a)(y,2),w=(k[0],k[1]),S=Object(s.useState)("en"),C=Object(l.a)(S,2);C[0],C[1];Object(s.useEffect)((function(){(function(){var e=Object(b.a)(d.a.mark((function e(){var t,a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get(O+"/tentit");case 3:if(!((t=e.sent).data.length>0)){e.next=20;break}a=0;case 6:if(!(a<t.data.length)){e.next=15;break}return t.data[a].kysymykset=[],e.next=10,h.a.get(O+"/tenttikysymykset/"+t.data[a].id);case 10:n=e.sent,t.data[a].kysymykset=n.data;case 12:a++,e.next=6;break;case 15:N(t.data),w(!0),g({type:"INIT_DATA",data:t.data}),e.next=21;break;case 20:throw"Nyt pit\xe4\xe4 data kyll\xe4 alustaa!";case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(0),console.log(e.t0);case 26:case"end":return e.stop()}}),e,null,[[0,23]])})));return function(){return e.apply(this,arguments)}})()()}),[]);return v.length<1?Object(n.jsx)(n.Fragment,{children:"loading..."}):Object(n.jsxs)("div",{className:"main",children:[Object(n.jsx)("div",{className:"buttonContainer",children:v.map((function(e,t){return Object(n.jsx)("button",{name:"TenttiButton",className:"button2",onClick:function(){return function(e){o(e)}(t)},children:e.nimi},t)}))}),!1===a&&m[i]&&m[i].kysymykset.map((function(e,t){return Object(n.jsx)("div",{className:"questions",children:Object(n.jsx)("div",{className:"questionTitle",children:e.nimi},t)})})),Object(n.jsx)("button",{className:"button",children:"N\xe4yt\xe4 vastaukset"})]})},f=a(51),p=a(73),v=function(){return Object(n.jsx)("div",{className:"main",children:Object(n.jsx)(p.a,{onDrop:function(e){return console.log(e)},children:function(e){var t=e.getRootProps,a=e.getInputProps;return Object(n.jsx)("section",{children:Object(n.jsxs)("div",Object(f.a)(Object(f.a)({className:"drop"},t()),{},{children:[Object(n.jsx)("input",Object(f.a)({},a())),Object(n.jsx)("p",{children:"Drag 'n' drop some files here, or click to select files"})]}))})}})})},N=a(74),y=a(45),k=a(46),w=a(50),S=a(48),C=function(e){Object(w.a)(a,e);var t=Object(S.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={message:""},e}return Object(k.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsx)("form",{action:".",onSubmit:function(t){t.preventDefault(),e.props.onSubmitMessage(e.state.message),e.setState({message:""})},children:Object(n.jsx)("div",{className:"textarea",children:Object(n.jsx)("input",{type:"text",placeholder:"Enter message...",className:"msgInput",value:this.state.message,onChange:function(t){return e.setState({message:t.target.value})}})})})}}]),a}(s.Component),I=function(e){var t=e.name,a=e.message,s=e.myName;return Object(n.jsxs)("div",{className:s===t?"msgItem2":"msgItem",children:[Object(n.jsx)("div",{className:"name",children:t}),Object(n.jsx)("div",{className:s===t?"message2":"message",children:Object(n.jsx)("div",{className:"msgContent",children:a})})]})},T="ws://localhost:3030",A=function(e){Object(w.a)(a,e);var t=Object(S.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={name:"Bob",messages:[]},e.ws=new WebSocket(T),e.addMessage=function(t){return e.setState((function(e){return{messages:[].concat(Object(N.a)(e.messages),[t])}}))},e.submitMessage=function(t){var a={name:e.state.name,message:t};e.ws.send(JSON.stringify(a)),e.addMessage(a)},e}return Object(k.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.ws.onopen=function(){console.log("connected")},this.ws.onmessage=function(t){var a=JSON.parse(t.data);e.addMessage(a)},this.ws.onclose=function(){console.log("disconnected"),e.setState({ws:new WebSocket(T)})}}},{key:"render",value:function(){var e=this;return Object(n.jsx)("div",{className:"main2",children:Object(n.jsxs)("div",{className:"chat",children:[Object(n.jsxs)("div",{className:"header",children:[Object(n.jsx)("div",{className:"x",children:"x"}),Object(n.jsx)("div",{className:"title",children:Object(n.jsx)("h1",{children:"IdealChat"})})]}),Object(n.jsxs)("div",{className:"conversation",children:[Object(n.jsx)("i",{className:"italic",children:"Welcome to IdealChat!"}),this.state.messages.map((function(t,a){return Object(n.jsx)(I,{message:t.message,name:t.name,myName:e.state.name},a)}))]}),Object(n.jsxs)("div",{className:"footer",children:[Object(n.jsxs)("label",{htmlFor:"name",className:"msgItem",children:["Name:\xa0",Object(n.jsx)("input",{type:"text",id:"name",placeholder:"Enter your name...",value:this.state.name,onChange:function(t){return e.setState({name:t.target.value})}})]}),Object(n.jsx)(C,{ws:this.ws,onSubmitMessage:function(t){return e.submitMessage(t)}})]})]})})}}]),a}(s.Component),D=a(8);var E=function(){return Object(n.jsxs)(i.a,{children:[Object(n.jsx)(o,{}),Object(n.jsxs)(D.c,{children:[Object(n.jsx)(D.a,{path:"/exams",children:Object(n.jsx)(g,{})}),Object(n.jsx)(D.a,{path:"/drop",children:Object(n.jsx)(v,{})}),Object(n.jsx)(D.a,{path:"/chat",children:Object(n.jsx)(A,{})})]})]})};a(140),a(72);var M=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,141)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),c(e),r(e)}))};r.a.render(Object(n.jsx)(j.a,{locale:"en",children:Object(n.jsx)(E,{})}),document.getElementById("root")),M()},27:function(e,t,a){},87:function(e,t,a){}},[[121,1,2]]]);
//# sourceMappingURL=main.749fcbce.chunk.js.map