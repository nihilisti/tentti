(this.webpackJsonptentti=this.webpackJsonptentti||[]).push([[0],{121:function(e,t,n){"use strict";n.r(t);var a=n(2),s=n(0),c=n(31),r=n.n(c),i=(n(87),n(27),n(29)),o=function(){return Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)("div",{className:"links",children:[Object(a.jsx)(i.b,{to:"/",className:"button",children:"Etusivu"}),Object(a.jsx)(i.b,{to:"/exams",className:"button",children:"Tentit"}),Object(a.jsx)(i.b,{to:"/drop",className:"button",children:"Lataa tiedostoja"}),Object(a.jsx)(i.b,{to:"/chat",className:"button",children:"Chat"})]})})},l=n(14),j=n(53),u=(n(60),n(54),n(57)),d=n.n(u),b=n(70),m=n(58),h=n.n(m),O=null;function x(e,t){var n=JSON.parse(JSON.stringify(e));switch(t.type){case"increment":return{count:e.count+1};case"ANSWER_CHANGED":return n[t.data.answerIndex].answer=t.data.newText,n;case"INIT_DATA":return t.data;default:throw new Error}}O="https://tenttiappi.herokuapp.com";var f=function(){var e=Object(s.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=(t[1],Object(s.useState)([])),r=Object(l.a)(c,2),i=r[0],o=r[1],j=Object(s.useReducer)(x,[]),u=Object(l.a)(j,2),m=u[0],f=u[1],p=Object(s.useState)([]),v=Object(l.a)(p,2),g=v[0],N=v[1],y=Object(s.useState)(!1),k=Object(l.a)(y,2),w=(k[0],k[1]),S=Object(s.useState)("en"),C=Object(l.a)(S,2);C[0],C[1];Object(s.useEffect)((function(){(function(){var e=Object(b.a)(d.a.mark((function e(){var t,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get(O+"/tentit");case 3:if(!((t=e.sent).data.length>0)){e.next=20;break}n=0;case 6:if(!(n<t.data.length)){e.next=15;break}return t.data[n].kysymykset=[],e.next=10,h.a.get(O+"/tenttikysymykset/"+t.data[n].id);case 10:a=e.sent,t.data[n].kysymykset=a.data;case 12:n++,e.next=6;break;case 15:N(t.data),w(!0),f({type:"INIT_DATA",data:t.data}),e.next=21;break;case 20:throw"Nyt pit\xe4\xe4 data kyll\xe4 alustaa!";case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(0),console.log(e.t0);case 26:case"end":return e.stop()}}),e,null,[[0,23]])})));return function(){return e.apply(this,arguments)}})()()}),[]);return g.length<1?Object(a.jsx)(a.Fragment,{children:"loading..."}):Object(a.jsxs)("div",{className:"main",children:[Object(a.jsx)("div",{className:"buttonContainer",children:g.map((function(e,t){return Object(a.jsx)("button",{name:"TenttiButton",className:"button2",onClick:function(){return function(e){o(e)}(t)},children:e.nimi},t)}))}),!1===n&&m[i]&&m[i].kysymykset.map((function(e,t){return Object(a.jsx)("div",{className:"questions",children:Object(a.jsx)("div",{className:"questionTitle",children:e.nimi},t)})})),Object(a.jsx)("button",{className:"button",children:"N\xe4yt\xe4 vastaukset"})]})},p=n(51),v=n(73),g=function(){return Object(a.jsx)("div",{className:"main",children:Object(a.jsx)(v.a,{onDrop:function(e){return console.log(e)},children:function(e){var t=e.getRootProps,n=e.getInputProps;return Object(a.jsx)("section",{children:Object(a.jsxs)("div",Object(p.a)(Object(p.a)({className:"drop"},t()),{},{children:[Object(a.jsx)("input",Object(p.a)({},n())),Object(a.jsx)("p",{children:"Drag 'n' drop some files here, or click to select files"})]}))})}})})},N=n(74),y=n(45),k=n(46),w=n(50),S=n(48),C=function(e){Object(w.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(y.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={message:""},e}return Object(k.a)(n,[{key:"render",value:function(){var e=this;return Object(a.jsx)("form",{action:".",onSubmit:function(t){t.preventDefault(),e.props.onSubmitMessage(e.state.message),e.setState({message:""})},children:Object(a.jsx)("div",{className:"textarea",children:Object(a.jsx)("input",{type:"text",placeholder:"Enter message...",className:"msgInput",value:this.state.message,onChange:function(t){return e.setState({message:t.target.value})}})})})}}]),n}(s.Component),I=function(e){var t=e.name,n=e.message;return Object(a.jsxs)("div",{className:"msgItem",children:[Object(a.jsx)("div",{className:"name",children:t}),Object(a.jsx)("div",{className:"message",children:Object(a.jsx)("div",{className:"msgContent",children:n})})]})},T="ws://localhost:3030",A=function(e){Object(w.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(y.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={name:"Bob",messages:[]},e.ws=new WebSocket(T),e.addMessage=function(t){return e.setState((function(e){return{messages:[].concat(Object(N.a)(e.messages),[t])}}))},e.submitMessage=function(t){var n={name:e.state.name,message:t};e.ws.send(JSON.stringify(n)),e.addMessage(n)},e}return Object(k.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.ws.onopen=function(){console.log("connected")},this.ws.onmessage=function(t){var n=JSON.parse(t.data);e.addMessage(n)},this.ws.onclose=function(){console.log("disconnected"),e.setState({ws:new WebSocket(T)})}}},{key:"render",value:function(){var e=this;return Object(a.jsx)("div",{className:"main2",children:Object(a.jsxs)("div",{className:"chat",children:[Object(a.jsxs)("div",{className:"header",children:[Object(a.jsx)("div",{className:"x",children:"x"}),Object(a.jsx)("div",{className:"title",children:Object(a.jsx)("h1",{children:"IdealChat"})})]}),Object(a.jsxs)("div",{className:"conversation",children:[Object(a.jsx)("i",{className:"italic",children:"Welcome to IdealChat!"}),this.state.messages.map((function(e,t){return Object(a.jsx)(I,{message:e.message,name:e.name},t)}))]}),Object(a.jsxs)("div",{className:"footer",children:[Object(a.jsxs)("label",{htmlFor:"name",className:"msgItem",children:["Name:\xa0",Object(a.jsx)("input",{type:"text",id:"name",placeholder:"Enter your name...",value:this.state.name,onChange:function(t){return e.setState({name:t.target.value})}})]}),Object(a.jsx)(C,{ws:this.ws,onSubmitMessage:function(t){return e.submitMessage(t)}})]})]})})}}]),n}(s.Component),D=n(8);var E=function(){return Object(a.jsxs)(i.a,{children:[Object(a.jsx)(o,{}),Object(a.jsxs)(D.c,{children:[Object(a.jsx)(D.a,{path:"/exams",children:Object(a.jsx)(f,{})}),Object(a.jsx)(D.a,{path:"/drop",children:Object(a.jsx)(g,{})}),Object(a.jsx)(D.a,{path:"/chat",children:Object(a.jsx)(A,{})})]})]})};n(140),n(72);var M=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,141)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),s(e),c(e),r(e)}))};r.a.render(Object(a.jsx)(j.a,{locale:"en",children:Object(a.jsx)(E,{})}),document.getElementById("root")),M()},27:function(e,t,n){},87:function(e,t,n){}},[[121,1,2]]]);
//# sourceMappingURL=main.dd6e9353.chunk.js.map